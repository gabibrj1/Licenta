<div class="news-container">
  <!-- Biblioteca de iconițe SVG -->
  <div class="svg-icons" style="display: none;">
    <!-- Icon pentru Featured Article/Articole Promovate -->
    <svg id="featured-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#54a0ff" d="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z"/>
    </svg>
  
    <!-- Icon pentru Elections/Alegeri -->
    <svg id="elections-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#e74c3c" d="M18,13L21,16V20A2,2 0 0,1 19,22H5C3.89,22 3,21.1 3,20V16L6,13H6.83L8.83,15H6.78L5,17H19L17.23,15H15.32L17.32,13H18M19,20V19H5V20H19M11.34,15L6.39,10.07C6,9.68 6,9.05 6.39,8.66L12.76,2.29C13.15,1.9 13.78,1.9 14.16,2.29L19.11,7.25C19.5,7.64 19.5,8.27 19.11,8.66L12.75,15C12.36,15.41 11.73,15.41 11.34,15M13.46,4.41L8.5,9.36L12.05,12.9L17,7.95L13.46,4.41Z"/>
    </svg>
    
    <!-- Icon pentru Politics/Politică -->
    <svg id="politics-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#3498db" d="M2,3H22C23.05,3 24,3.95 24,5V19C24,20.05 23.05,21 22,21H2C0.95,21 0,20.05 0,19V5C0,3.95 0.95,3 2,3M14,6V7H22V6H14M14,8V9H21.5L22,9V8H14M14,10V11H21V10H14M8,13.91C6,13.91 2,15 2,17V18H14V17C14,15 10,13.91 8,13.91M8,6A3,3 0 0,0 5,9A3,3 0 0,0 8,12A3,3 0 0,0 11,9A3,3 0 0,0 8,6Z"/>
    </svg>
    
    <!-- Icon pentru Technology/Tehnologie -->
    <svg id="technology-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#2ecc71" d="M8,2A1,1 0 0,1 9,3V4.5H11V3A1,1 0 0,1 12,2A1,1 0 0,1 13,3V4.5H15V3A1,1 0 0,1 16,2A1,1 0 0,1 17,3V4.5H19V3A1,1 0 0,1 20,2A1,1 0 0,1 21,3V4.5H22V9.5H19.5V8A1,1 0 0,0 18.5,7A1,1 0 0,0 17.5,8V9.5H15.5V8A1,1 0 0,0 14.5,7A1,1 0 0,0 13.5,8V9.5H11.5V8A1,1 0 0,0 10.5,7A1,1 0 0,0 9.5,8V9.5H7.5V8A1,1 0 0,0 6.5,7A1,1 0 0,0 5.5,8V9.5H3V6.5H4.5V4A1,1 0 0,1 5.5,3A1,1 0 0,1 6.5,4V6.5H7.5V4A1,1 0 0,1 8.5,3A1,1 0 0,1 9.5,4V6.5H10.5V4A1,1 0 0,1 11.5,3A1,1 0 0,1 12.5,4V6.5H13.5V4A1,1 0 0,1 14.5,3A1,1 0 0,1 15.5,4V6.5H16.5V4A1,1 0 0,1 17.5,3A1,1 0 0,1 18.5,4V6.5H22A2,2 0 0,1 24,8.5V16A2,2 0 0,1 22,18H21V19.5C21,20.88 19.88,22 18.5,22H5.5C4.12,22 3,20.88 3,19.5V18H2A2,2 0 0,1 0,16V2H3V3"/>
    </svg>

    <!-- Icon pentru Security/Securitate -->
    <svg id="security-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#9b59b6" d="M12,12H19C18.47,16.11 15.72,19.78 12,20.92V12H5V6.3L12,3.19M12,1L3,5V11C3,16.55 6.84,21.73 12,23C17.16,21.73 21,16.55 21,11V5L12,1Z"/>
    </svg>
    
    <!-- Icon pentru News Item/Știri -->
    <svg id="news-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#3498db" d="M20,5H4C2.89,5 2,5.89 2,7V17C2,18.11 2.89,19 4,19H20C21.11,19 22,18.11 22,17V7C22,5.89 21.11,5 20,5M5,7H10V13H5V7M19,17H5V15H19V17M19,13H12V7H19V13Z"/>
    </svg>
    
    <!-- Icon pentru Analysis Item/Analize -->
    <svg id="analysis-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#f39c12" d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M10,13H8V19H10V13M14,11H12V19H14V11M16,15H18V19H16V15Z"/>
    </svg>
    
    <!-- Icon pentru Opinion/Opinie -->
    <svg id="opinion-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#1abc9c" d="M12,8H4A2,2 0 0,0 2,10V14A2,2 0 0,0 4,16H5V20A1,1 0 0,0 6,21H8A1,1 0 0,0 9,20V16H12L17,20V4L12,8M21.5,12C21.5,13.71 20.54,15.26 19,16V8C20.53,8.75 21.5,10.3 21.5,12Z"/>
    </svg>
    
    <!-- Icon pentru External News Item/Știri Externe -->
    <svg id="external-news-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="#feca57" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"/>
    </svg>
  </div>
  
  <!-- Header cu titlu -->
  <div class="news-header">
    <h1>Știri și Analize</h1>
    <p class="subtitle">Ultimele informații despre sistemele de vot, politică și alegeri</p>
    
    <!-- Filtre pentru știri -->
    <div class="news-filters">
      <div class="filter-group">
        <label for="category-filter">Categorie:</label>
        <select id="category-filter" [(ngModel)]="selectedCategory" (change)="filterNews()">
          <option value="all">Toate categoriile</option>
          <option value="elections">Alegeri</option>
          <option value="politics">Politică</option>
          <option value="technology">Tehnologie</option>
          <option value="security">Securitate</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label for="type-filter">Tip:</label>
        <select id="type-filter" [(ngModel)]="selectedType" (change)="filterNews()">
          <option value="all">Toate</option>
          <option value="news">Știri</option>
          <option value="analysis">Analize</option>
          <option value="opinion">Opinii</option>
        </select>
      </div>
      
      <!-- Indicator filtre active -->
      <div *ngIf="selectedCategory !== 'all' || selectedType !== 'all'" class="active-filters">
        <span>Filtre active:</span>
        <span *ngIf="selectedCategory !== 'all'" class="filter-badge category">
          {{ getCategoryName(selectedCategory) }}
          <button (click)="resetCategoryFilter()" class="reset-filter">×</button>
        </span>
        <span *ngIf="selectedType !== 'all'" class="filter-badge type">
          {{ getTypeName(selectedType) }}
          <button (click)="resetTypeFilter()" class="reset-filter">×</button>
        </span>
        <button (click)="resetAllFilters()" class="reset-all-filters">Resetează toate</button>
      </div>
    </div>
  </div>
  
  <!-- Secțiunea de articole promovate -->
  <div class="featured-section">
    <h2 class="section-title">Articole Promovate</h2>
    
    <div *ngIf="newsLoading" class="loading-indicator">
      <div class="spinner"></div>
      <p>Se încarcă articolele...</p>
    </div>
    
    <div *ngIf="newsError" class="error-message">
      <p>Nu s-au putut încărca articolele. Vă rugăm încercați din nou mai târziu.</p>
    </div>
    
    <div *ngIf="!newsLoading && !newsError && featuredArticles.length === 0" class="empty-state">
      <p>Nu există articole promovate pentru filtrele selectate. Încercați alte criterii sau reveniți mai târziu.</p>
    </div>
    
    <div *ngIf="!newsLoading && !newsError && featuredArticles.length > 0" class="featured-grid">
      <div *ngFor="let article of featuredArticles" class="featured-article">
        <!-- Folosim direct image_url în loc de a folosi getImageUrl(article.image) -->
        <div class="article-image" [style.background-image]="article.image_url ? ('url(' + article.image_url + ')') : 'none'">
          <div class="article-category">{{ article.category.name || 'General' }}</div>
          <div class="article-icon" *ngIf="!article.image_url">
            <svg viewBox="0 0 24 24" width="80" height="80">
              <use [attr.href]="getCategoryIcon(article.category ? article.category.slug || 'general' : 'general')"></use>
            </svg>
          </div>
        </div>
        <div class="article-content">
          <h3 class="article-title">{{ article.title }}</h3>
          <p class="article-summary">{{ article.summary }}</p>
          <div class="article-meta">
            <span class="article-date">{{ formatDate(article.publish_date) }}</span>
            <span class="article-author">{{ article.author_name }}</span>
          </div>
          <a [routerLink]="['article', article.slug]" class="read-more">Citește mai mult</a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Secțiunea principală de știri -->
  <div class="main-content">
    <div class="news-section">
      <h2 class="section-title">Ultimele Știri</h2>
      
      <div *ngIf="newsLoading" class="loading-indicator">
        <div class="spinner"></div>
        <p>Se încarcă știrile...</p>
      </div>
      
      <div *ngIf="!newsLoading && !newsError && latestNews.length === 0" class="empty-state">
        <p>Nu există știri disponibile pentru filtrele selectate. Încercați alte criterii sau reveniți mai târziu.</p>
      </div>
      
      <div *ngIf="!newsLoading && !newsError && latestNews.length > 0" class="news-list">
        <div *ngFor="let article of latestNews" class="news-item">
          <!-- Folosim direct image_url aici și pentru știri -->
          <div class="news-image" [style.background-image]="article.image_url ? ('url(' + article.image_url + ')') : 'none'">
            <div class="news-icon" *ngIf="!article.image_url">
              <svg viewBox="0 0 24 24" width="60" height="60">
                <use [attr.href]="getCategoryIcon(article.category ? article.category.slug || 'general' : 'general')"></use>
              </svg>
            </div>
          </div>
          <div class="news-content">
            <div class="news-category">{{ article.category.name || 'General' }}</div>
            <h3 class="news-title">{{ article.title }}</h3>
            <p class="news-summary">{{ article.summary }}</p>
            <div class="news-meta">
              <span class="news-date">{{ formatDate(article.publish_date) }}</span>
              <span class="news-author">{{ article.author_name }}</span>
            </div>
            <a [routerLink]="['article', article.slug]" class="read-more">Citește mai mult</a>
          </div>
        </div>
      </div>
    </div>
    
    <div class="sidebar">
      <!-- Secțiunea de analize -->
      <div class="analysis-section">
        <h2 class="section-title">Analize Recente</h2>
        
        <div *ngIf="newsLoading" class="loading-indicator">
          <div class="spinner"></div>
          <p>Se încarcă analizele...</p>
        </div>
        
        <div *ngIf="!newsLoading && !newsError && latestAnalysis.length === 0" class="empty-state">
          <p>Nu există analize disponibile pentru filtrele selectate. Încercați alte criterii sau reveniți mai târziu.</p>
        </div>
        
        <div *ngIf="!newsLoading && !newsError && latestAnalysis.length > 0" class="analysis-list">
          <div *ngFor="let analysis of latestAnalysis" class="analysis-item">
            <!-- Adăugare imagine pentru analize -->
            <div class="analysis-image" [style.background-image]="analysis.image_url ? ('url(' + analysis.image_url + ')') : 'none'">
              <div class="analysis-icon" *ngIf="!analysis.image_url">
                <svg viewBox="0 0 24 24" width="40" height="40">
                  <use href="#analysis-icon"></use>
                </svg>
              </div>
            </div>
            <div class="analysis-content">
              <h3 class="analysis-title">{{ analysis.title }}</h3>
              <div class="analysis-meta">
                <span class="analysis-date">{{ formatDate(analysis.publish_date) }}</span>
                <span class="analysis-author">{{ analysis.author_name }}</span>
              </div>
              <a [routerLink]="['article', analysis.slug]" class="read-more">Citește analiza</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Secțiunea de știri externe -->
      <div class="external-news-section">
        <h2 class="section-title">Știri Politice</h2>
        
        <div *ngIf="externalNewsLoading" class="loading-indicator">
          <div class="spinner"></div>
          <p>Se încarcă știrile externe...</p>
        </div>
        
        <div *ngIf="externalNewsError" class="error-message">
          <p>Nu s-au putut încărca știrile externe. Vă rugăm încercați din nou mai târziu.</p>
        </div>
        
        <div *ngIf="!externalNewsLoading && !externalNewsError && externalNews.length === 0" class="empty-state">
          <p>Nu există știri externe disponibile în acest moment. Reveniți mai târziu pentru actualizări.</p>
        </div>
        
        <div *ngIf="!externalNewsLoading && !externalNewsError && externalNews.length > 0" class="external-news-list">
          <div *ngFor="let news of externalNews" class="external-news-item">
            <div class="external-news-icon">
              <svg viewBox="0 0 24 24" width="40" height="40">
                <use href="#external-news-icon"></use>
              </svg>
            </div>
            <h3 class="external-news-title">{{ news.title }}</h3>
            <p class="external-news-description">{{ news.description }}</p>
            <div class="external-news-meta">
              <span class="external-news-source">{{ news.source.name || 'Sursă necunoscută' }}</span>
              <span class="external-news-date">{{ formatDate(news.publishedAt) }}</span>
            </div>
            <a [href]="news.url" target="_blank" class="read-more">Citește pe site-ul sursei</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Secțiunea de analize electorale cu grafice -->
  <div class="analytics-section">
    <h2 class="section-title">Analize Electorale</h2>
    
    <div *ngIf="analyticsLoading" class="loading-indicator">
      <div class="spinner"></div>
      <p>Se încarcă datele analitice...</p>
    </div>
    
    <div *ngIf="analyticsError" class="error-message">
      <p>Nu s-au putut încărca datele analitice. Vă rugăm încercați din nou mai târziu.</p>
    </div>
    
    <div *ngIf="!analyticsLoading && !analyticsError && electionAnalytics.length === 0" class="empty-state">
      <p>Nu există date analitice disponibile în acest moment. Reveniți mai târziu pentru actualizări.</p>
    </div>
    
    <div *ngIf="!analyticsLoading && !analyticsError && electionAnalytics.length > 0" class="analytics-grid">
      <div *ngFor="let analytics of electionAnalytics" class="analytics-item">
        <h3 class="analytics-title">{{ analytics.title }}</h3>
        <div class="chart-container">
          <!-- În implementarea reală, aici ar trebui să fie un component de chart -->
          <!-- Exemplu folosind Chart.js (trebuie importat separat) -->
          <!-- <canvas [id]="'chart-' + analytics.id"></canvas> -->
          
          <!-- Pentru simulare în HTML static, folosim un placeholder pentru grafice -->
          <div class="chart-placeholder" [ngClass]="'chart-type-' + analytics.type">
            <div class="chart-info">
              <span class="chart-type">{{ analytics.type | titlecase }} Chart</span>
              <span class="data-points">{{ analytics.data?.labels?.length || 0 }} data points</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Secțiunea de comparații între sisteme de vot -->
  <div class="comparison-section">
    <h2 class="section-title">Comparație Sisteme de Vot Electronic</h2>
    
    <div class="comparison-intro">
      <p>Comparație între principalele sisteme de vot electronic utilizate la nivel global. SmartVote se remarcă prin nivelul înalt de securitate, transparență și accesibilitate.</p>
    </div>
    
    <div class="comparison-grid">
      <div class="comparison-header">
        <div class="comparison-feature-header"></div>
        <div *ngFor="let system of votingSystems" class="comparison-system-header">
          <div class="system-name">{{ system.name }}</div>
        </div>
      </div>
      
      <div class="comparison-features">
        <!-- Securitate -->
        <div class="comparison-feature-row">
          <div class="feature-name">Securitate</div>
          <div *ngFor="let system of votingSystems" class="feature-score">
            <div class="score-bar">
              <div class="score-fill" [style.width.%]="system.features.security"></div>
            </div>
            <div class="score-value">{{ system.features.security }}%</div>
          </div>
        </div>
        
        <!-- Accesibilitate -->
        <div class="comparison-feature-row">
          <div class="feature-name">Accesibilitate</div>
          <div *ngFor="let system of votingSystems" class="feature-score">
            <div class="score-bar">
              <div class="score-fill" [style.width.%]="system.features.accessibility"></div>
            </div>
            <div class="score-value">{{ system.features.accessibility }}%</div>
          </div>
        </div>
        
        <!-- Transparență -->
        <div class="comparison-feature-row">
          <div class="feature-name">Transparență</div>
          <div *ngFor="let system of votingSystems" class="feature-score">
            <div class="score-bar">
              <div class="score-fill" [style.width.%]="system.features.transparency"></div>
            </div>
            <div class="score-value">{{ system.features.transparency }}%</div>
          </div>
        </div>
        
        <!-- Viteză -->
        <div class="comparison-feature-row">
          <div class="feature-name">Viteză</div>
          <div *ngFor="let system of votingSystems" class="feature-score">
            <div class="score-bar">
              <div class="score-fill" [style.width.%]="system.features.speed"></div>
            </div>
            <div class="score-value">{{ system.features.speed }}%</div>
          </div>
        </div>
        
        <!-- Cost -->
        <div class="comparison-feature-row">
          <div class="feature-name">Cost-Eficiență</div>
          <div *ngFor="let system of votingSystems" class="feature-score">
            <div class="score-bar">
              <div class="score-fill" [style.width.%]="system.features.cost"></div>
            </div>
            <div class="score-value">{{ system.features.cost }}%</div>
          </div>
        </div>
      </div>
      
      <div class="comparison-descriptions">
        <div *ngFor="let system of votingSystems" class="system-description">
          <p>{{ system.description }}</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Secțiunea de riscuri și soluții -->
  <div class="risks-section">
    <h2 class="section-title">Riscuri și Soluții în Votul Electronic</h2>
    
    <div class="risks-intro">
      <p>Orice sistem de vot electronic prezintă riscuri potențiale. SmartVote abordează aceste riscuri cu soluții tehnologice avansate:</p>
    </div>
    
    <div class="risks-grid">
      <div *ngFor="let item of securityRisks" class="risk-item">
        <div class="risk-header">
          <div class="risk-title">{{ item.risk }}</div>
          <div class="solution-title">{{ item.solution }}</div>
        </div>
        <div class="risk-description">
          <p>{{ item.description }}</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- CTA Section -->
  <div class="cta-section">
    <h2>Experimentați Viitorul Votului</h2>
    <p>Descoperiți cum funcționează sistemul SmartVote prin simularea procesului de vot.</p>
    <div class="cta-buttons">
      <a routerLink="/menu/simulare-vot" class="btn-primary">Încearcă Simularea</a>
      <a routerLink="/menu/despre/concept" class="btn-secondary">Află mai multe despre Concept</a>
    </div>
  </div>
</div>