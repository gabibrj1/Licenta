// Variabile pentru culori și fonturi
$primary-color: #2e86de;
$primary-light: #54a0ff;
$primary-dark: #2259b0;
$secondary-color: #ff6b6b;
$success-color: #1dd1a1;
$warning-color: #feca57;
$danger-color: #ee5253;
$gray-light: rgba(255, 255, 255, 0.05);
$gray-medium: rgba(255, 255, 255, 0.1);
$gray-dark: #747d8c;
$text-color: #fff;
$text-light: #f1f2f6;
$border-radius: 12px;
$box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
$transition: all 0.3s ease;
$background-color: rgba(0, 0, 0, 0.5);

// Stiluri generale pentru pagina de simulare
.vote-simulation {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  color: $text-color;
  font-family: 'Roboto', 'Segoe UI', Arial, sans-serif;
  
  h2 {
    text-align: center;
    font-size: 28px;
    margin-bottom: 30px;
    font-weight: 500;
    color: $primary-color;
  }
  
  h3 {
    font-size: 22px;
    margin-bottom: 20px;
    font-weight: 500;
    color: $primary-color;
  }
  
  h4 {
    font-size: 18px;
    margin-bottom: 15px;
    font-weight: 500;
    color: $text-color;
  }
  
  p {
    margin-bottom: 15px;
    line-height: 1.6;
  }
}

// Tabs pentru a alege tipul de sistem (oficial vs particular)
.simulation-tabs {
  display: flex;
  justify-content: center;
  margin-bottom: 30px;
  
  .tab {
    padding: 12px 25px;
    border-radius: 30px;
    margin: 0 10px;
    background-color: $gray-medium;
    color: $text-color;
    cursor: pointer;
    transition: $transition;
    font-weight: 500;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    
    &:hover {
      background-color: darken($gray-medium, 5%);
    }
    
    &.active {
      background-color: $primary-color;
      color: white;
      box-shadow: 0 4px 10px rgba($primary-color, 0.4);
    }
  }
}

// Container principal pentru simulare
.simulation-container {
  background-color: $background-color;
  border-radius: $border-radius;
  box-shadow: $box-shadow;
  overflow: hidden;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

// Indicator de pași
.step-indicator {
  display: flex;
  justify-content: center;
  margin: 20px 0;
  
  .step-dot {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background-color: $gray-medium;
    color: $text-color;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 15px;
    font-weight: 600;
    position: relative;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: $transition;
    
    &:not(:last-child)::after {
      content: '';
      position: absolute;
      width: 30px;
      height: 3px;
      background-color: $gray-medium;
      right: -30px;
      top: 50%;
      transform: translateY(-50%);
      transition: $transition;
    }
    
    &.active {
      background-color: $primary-color;
      color: white;
      box-shadow: 0 3px 8px rgba($primary-color, 0.3);
      
      &:not(:last-child)::after {
        background-color: $primary-color;
      }
    }
    
    &.current {
      transform: scale(1.2);
      box-shadow: 0 4px 12px rgba($primary-color, 0.4);
    }
  }
}

// Stiluri pentru pasi individuali
.simulation-step {
  padding: 30px;
  
  .step-content {
    display: flex;
    margin-bottom: 20px;
    
    @media (max-width: 768px) {
      flex-direction: column;
    }
    
    .step-image {
      flex: 0 0 40%;
      margin-right: 30px;
      display: flex;
      justify-content: center;
      align-items: center;
      
      @media (max-width: 768px) {
        margin-right: 0;
        margin-bottom: 20px;
        text-align: center;
      }
      
      img {
        max-width: 100%;
        border-radius: $border-radius;
        box-shadow: $box-shadow;
      }

      &:empty {
        display: none;
      }
    }
    
    .step-image:empty + .step-description {
      flex: 1;
      margin: 0 auto;
      max-width: 800px;
    }
    
    .step-description {
      flex: 1;
      
      ul {
        list-style-type: none;
        padding-left: 5px;
        margin-bottom: 20px;
        
        li {
          position: relative;
          padding-left: 25px;
          margin-bottom: 10px;
          line-height: 1.6;
          
          &::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: $primary-color;
            font-weight: bold;
          }
        }
      }
    }
  }
  
  .animation-hint {
    text-align: center;
    padding: 10px;
    background-color: rgba($primary-light, 0.1);
    border-radius: $border-radius;
    margin-bottom: 20px;
    color: $primary-color;
    font-style: italic;
  }
  
  .note {
    padding: 15px;
    background-color: rgba($warning-color, 0.1);
    border-left: 4px solid $warning-color;
    border-radius: 4px;
    margin: 20px 0;
    
    i {
      color: $warning-color;
      margin-right: 8px;
    }
  }
}

// Stiluri pentru notă despre monitorizare video
.monitoring-note {
  background-color: rgba($primary-color, 0.1);
  padding: 12px 15px;
  border-radius: 8px;
  margin: 15px 0;
  display: flex;
  align-items: center;
  
  i {
    color: $primary-color;
    margin-right: 10px;
    font-size: 20px;
  }
}

// Stiluri pentru butoane
.btn-primary, .btn-secondary {
  padding: 12px 24px;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  font-weight: 500;
  transition: $transition;
  font-size: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  
  i {
    margin-right: 8px;
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  
  &.btn-sm {
    padding: 8px 16px;
    font-size: 14px;
  }
}

.btn-primary {
  background-color: $primary-color;
  color: white;
  box-shadow: 0 4px 10px rgba($primary-color, 0.3);
  
  &:hover:not(:disabled) {
    background-color: darken($primary-color, 5%);
    box-shadow: 0 6px 15px rgba($primary-color, 0.4);
    transform: translateY(-2px);
  }
  
  &:active:not(:disabled) {
    transform: translateY(1px);
    box-shadow: 0 2px 5px rgba($primary-color, 0.3);
  }
}

.btn-secondary {
  background-color: $gray-medium;
  color: $text-color;
  
  &:hover:not(:disabled) {
    background-color: darken($gray-medium, 5%);
    transform: translateY(-2px);
  }
  
  &:active:not(:disabled) {
    transform: translateY(1px);
  }
}

.btn-approve {
  background-color: $success-color;
  color: white;
  padding: 12px 24px;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  font-weight: 500;
  transition: $transition;
  box-shadow: 0 4px 10px rgba($success-color, 0.3);
  
  &:hover {
    background-color: darken($success-color, 5%);
    box-shadow: 0 6px 15px rgba($success-color, 0.4);
    transform: translateY(-2px);
  }
}

.btn-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: $gray-light;
  border: none;
  cursor: pointer;
  transition: $transition;
  
  &:hover {
    background-color: $gray-medium;
  }
}

// Stiluri pentru navbar
.nav-buttons {
  display: flex;
  justify-content: space-between;
  margin-top: 30px;
  
  button {
    min-width: 120px;
  }
}

// Stiluri pentru tipuri de vot
.vote-types {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin: 15px 0;
  
  .vote-type-item {
    flex: 1;
    min-width: 200px;
    padding: 15px;
    border-radius: $border-radius;
    background-color: rgba(255, 255, 255, 0.05);
    box-shadow: $box-shadow;
    transition: $transition;
    
    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }
    
    .vote-type-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-bottom: 15px;
      
      &.presidential {
        background-color: rgba($primary-color, 0.2);
        color: $primary-color;
      }
      
      &.parliamentary {
        background-color: rgba($secondary-color, 0.2);
        color: $secondary-color;
      }
      
      &.local {
        background-color: rgba($success-color, 0.2);
        color: $success-color;
      }
    }
    
    .vote-type-title {
      font-weight: 600;
      margin-bottom: 5px;
      color: $text-color;
    }
    
    .vote-type-description {
      color: rgba(255, 255, 255, 0.7);
      font-size: 14px;
    }
  }
}

// Stiluri pentru secțiunea vot selectat
.vote-type-selection {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin: 30px 0;
  
  .selection-item {
    width: 180px;
    height: 180px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 20px;
    box-shadow: $box-shadow;
    cursor: pointer;
    transition: $transition;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.05);
    
    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .selection-icon {
      font-size: 48px;
      color: $primary-color;
      margin-bottom: 15px;
    }
    
    .selection-title {
      font-weight: 600;
      font-size: 18px;
      color: $text-color;
    }
  }
}

// Liste de candidați
.candidate-list, .party-list {
  margin: 20px 0;
  
  .candidate-item, .party-item {
    display: flex;
    align-items: center;
    padding: 15px;
    border-radius: $border-radius;
    margin-bottom: 10px;
    background-color: $gray-light;
    transition: $transition;
    position: relative;
    cursor: pointer;
    
    &:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    &.selected {
      background-color: rgba($primary-color, 0.2);
      border: 1px solid $primary-color;
    }
    
    .candidate-number, .party-logo {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: $primary-color;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-right: 15px;
      flex-shrink: 0;
    }
    
    .candidate-details, .party-details {
      flex: 1;
    }
    
    .candidate-name, .party-name {
      font-weight: 600;
      margin-bottom: 5px;
      color: $text-color;
    }
    
    .candidate-party, .party-abbr {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
    }
    
    .stamp {
      position: absolute;
      right: 20px;
      color: $success-color;
      font-size: 28px;
      animation: stamp-appear 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
  }
}

// *** ÎMBUNĂTĂȚIRI PENTRU ALEGERI LOCALE ***
// Stilizare îmbunătățită pentru Pasul 3: Alegeri Locale
.simulation-step {
  h3 {
    padding-bottom: 8px;
    border-bottom: 1px solid rgba($primary-color, 0.3);
  }
  
  // Conținutul pașilor pentru Alegeri Locale
  .step-content {
    display: flex;
    gap: 24px; // Mărirea spațierii între secțiuni
    align-items: flex-start;
    justify-content: space-between;
    flex-wrap: nowrap;
    
    @media (max-width: 1100px) {
      flex-direction: column;
      gap: 20px;
    }
    
    // Secțiuni individuale pentru Alegeri Locale (cele 3 coloane)
    .step-section {
      flex: 1 1 0;
      min-width: 300px;
      background: rgba(255, 255, 255, 0.03); // Fundal subtil
      border-radius: $border-radius;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
      padding: 22px 18px 18px 18px;
      margin-bottom: 0;
      border: 1px solid rgba(255, 255, 255, 0.08);
      height: 100%;
      
      &:not(:last-child) {
        margin-right: 0; // Resetarea marginii dreapta
      }
      
      h4 {
        font-size: 17px;
        margin-bottom: 16px;
        color: $primary-color;
        border-bottom: 1px solid rgba(255, 255, 255, 0.13);
        padding-bottom: 8px;
        font-weight: 600;
        display: flex;
        align-items: center;
        
        &::before {
          content: '';
          display: inline-block;
          width: 6px;
          height: 20px;
          background-color: $primary-color;
          margin-right: 10px;
          border-radius: 3px;
        }
      }
    }
  }
}

// Formular pentru adresă în Alegeri Locale - îmbunătățit
.address-form {
  background-color: transparent; // Eliminăm fundalul dublu
  border-radius: $border-radius;
  padding: 0; // Eliminăm padding-ul dublu
  box-shadow: none;
  margin: 0;
  
  .form-row {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
    width: 100%; // Asigurăm că rândul folosește toată lățimea disponibilă
    
    @media (max-width: 576px) {
      flex-direction: column;
      gap: 10px;
    }
    
    .form-group {
      flex: 1;
      min-width: 0; // FIX pentru suprapunere - previne overflow-ul
    }
  }
  
  .form-group {
    margin-bottom: 15px;
    width: 100%; // Asigurăm că grupul folosește toată lățimea disponibilă
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: $text-color;
    }
    
    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      font-size: 16px;
      transition: $transition;
      background-color: rgba(255, 255, 255, 0.1);
      color: $text-color;
      box-sizing: border-box; // FIX pentru suprapunere - garantează că padding-ul este inclus în lățime
      
      &:focus {
        border-color: $primary-color;
        outline: none;
        box-shadow: 0 0 0 3px rgba($primary-color, 0.2);
      }
    }
    
    .hint {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 5px;
    }
  }
}

// Secția de votare - Îmbunătățită
.voting-section {
  background-color: rgba($primary-color, 0.11); // Fundal albastru subtil
  border-radius: $border-radius;
  padding: 15px;
  margin: 0 0 15px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: block; // Schimbat pentru a stivui elementele vertical
  border: 1px solid rgba($primary-color, 0.15);
  
  .section-id {
    display: inline-block;
    background-color: $primary-color;
    color: white;
    padding: 8px 14px;
    border-radius: 8px;
    font-weight: 600;
    margin-bottom: 10px;
    font-size: 15px;
  }
  
  .section-details {
    margin-top: 8px;
    
    .section-name {
      font-weight: 600;
      margin-bottom: 5px;
      color: $text-color;
      font-size: 15px;
    }
    
    .section-address {
      color: rgba(255, 255, 255, 0.8);
      font-size: 13px;
    }
  }
}

// Candidați locali - Îmbunătățiți
.positions-list {
  margin: 0;
  
  .position-item {
    margin-bottom: 22px;
    
    &:last-child {
      margin-bottom: 0;
    }
    
    .position-title {
      font-weight: 600;
      margin-bottom: 12px;
      padding-bottom: 5px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.15);
      color: $primary-color;
      font-size: 15px;
    }
    
    .candidates-grid {
      display: flex;
      flex-direction: column;
      gap: 10px;
      
      @media (min-width: 900px) {
        display: grid;
        grid-template-columns: repeat(2, 1fr); 
        gap: 12px;
      }
      
      .local-candidate-item {
        padding: 13px 15px;
        border-radius: $border-radius;
        background-color: rgba(255, 255, 255, 0.09);
        position: relative;
        cursor: pointer;
        transition: $transition;
        border: 1px solid transparent;
        display: flex;
        flex-direction: column;
        
        &:hover {
          background-color: rgba($primary-color, 0.11);
          border-color: rgba($primary-color, 0.25);
        }
        
        &.selected {
          background-color: rgba($success-color, 0.13);
          border: 1.5px solid $success-color;
        }
        
        .candidate-name {
          font-weight: 600;
          margin-bottom: 4px;
          color: $text-color;
          font-size: 15px;
        }
        
        .candidate-party {
          font-size: 13px;
          color: rgba(255, 255, 255, 0.7);
        }
        
        .stamp {
          position: absolute;
          right: 15px;
          top: 50%;
          transform: translateY(-50%);
          color: $success-color;
          font-size: 22px;
          animation: stamp-appear 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
      }
    }
  }
}

// Îmbunătățiri pentru crearea sistemului de vot personalizat
.custom-system-form {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: $border-radius;
  padding: 20px;
  box-shadow: $box-shadow;
  width: 100%; // Asigurăm că formularul folosește toată lățimea disponibilă
  box-sizing: border-box; // Includem padding-ul în calculul lățimii
  
  .form-group {
    margin-bottom: 20px;
    width: 100%; // Asigurăm că grupul folosește toată lățimea disponibilă
  }
  
  .form-row {
    display: flex;
    gap: 15px;
    width: 100%; // Asigurăm că rândul folosește toată lățimea disponibilă
    
    @media (max-width: 576px) {
      flex-direction: column;
    }
    
    .form-group {
      flex: 1;
      min-width: 0; // FIX pentru suprapunere - previne overflow-ul
    }
  }
  
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: $text-color;
  }
  
  .form-control {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    font-size: 16px;
    background-color: rgba(255, 255, 255, 0.1);
    color: $text-color;
    box-sizing: border-box; // FIX - garantează că padding-ul este inclus în lățime
    
    &:focus {
      border-color: $primary-color;
      outline: none;
      box-shadow: 0 0 0 3px rgba($primary-color, 0.2);
    }
  }
  // Stilizare pentru textarea read-only cu emailuri
textarea.emails-readonly {
  background-color: rgba(255, 255, 255, 0.08) !important;
  resize: none;
  cursor: default;
  
  &:focus {
    border-color: rgba(255, 255, 255, 0.2) !important;
    box-shadow: none !important;
  }
}
  
  // Ajustare pentru câmpurile textarea pentru a nu ieși din cadran
  textarea.form-control {
    resize: vertical;
    min-height: 100px;
    max-height: 300px;
    width: 100%;
    box-sizing: border-box;
  }

  
  // Ajustare pentru selecturi
// Stilizare pentru dropdown-uri și opțiunile lor
select.form-control {
  appearance: none;
  background-color: rgba(255, 255, 255, 0.1);
  color: $text-color;
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  padding: 12px 15px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 15px center;
  padding-right: 40px;
  
  &:focus {
    border-color: $primary-color;
    outline: none;
    box-shadow: 0 0 0 3px rgba($primary-color, 0.2);
  }
  
  option {
    background-color: #2d3748; // Culoare de fundal închisă pentru opțiuni
    color: $text-color; // Culoarea textului
    padding: 10px; // Padding pentru opțiuni
  }
}

// Ajustări specifice pentru selectul cu opțiunile vizibile
select.form-control:focus,
select.form-control:active {
  background-color: rgba(255, 255, 255, 0.15);
  option:checked {
    background-color: $primary-color;
    color: white;
  }
}

// Fix pentru WebKit (Chrome, Safari)
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  select.form-control {
    option {
      background-color: #2d3748;
      color: $text-color;
    }
    option:checked {
      background-color: $primary-color;
      color: white;
    }
  }
}

// Fix pentru Firefox
@-moz-document url-prefix() {
  select.form-control {
    option {
      background-color: #2d3748;
      color: $text-color;
    }
    option:checked {
      background-color: $primary-color;
      color: white;
    }
  }
}
  
  // Ajustare pentru câmpurile de dată și oră
  input[type="date"], 
  input[type="time"] {
    padding-right: 10px; // Mai puțin padding la dreapta pentru a evita suprapunerea
    min-width: 0; // Previne overflow-ul
    background-color: rgba(255, 255, 255, 0.1); // Background consistent
    color: $text-color;
    
    &::-webkit-calendar-picker-indicator {
      filter: invert(1); // Face indicatorul de calendar alb pentru teme întunecate
      opacity: 0.7;
    }
  }
}

// Confirmation box
.confirmation-box {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: $border-radius;
  box-shadow: $box-shadow;
  overflow: hidden;
  
  .confirmation-header {
    background-color: $primary-color;
    color: white;
    padding: 15px 20px;
    font-weight: 600;
    font-size: 18px;
    display: flex;
    align-items: center;
    
    i {
      margin-right: 10px;
    }
  }
  
  .confirmation-details {
    padding: 20px;
    
    .confirmation-section {
      margin-bottom: 25px;
      
      h4 {
        margin-bottom: 15px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        color: $primary-color;
      }
    }
    
    .confirmation-item {
      display: flex;
      margin-bottom: 10px;
      
      .item-label {
        font-weight: 500;
        width: 150px;
        flex-shrink: 0;
        color: rgba(255, 255, 255, 0.7);
      }
      
      .item-value {
        flex: 1;
        color: $text-color;
      }
    }
    
    .confirmation-position {
      margin-bottom: 15px;
    }
  }
  
  .confirmation-contact {
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    padding: 20px;
    margin-top: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    
    h4 {
      color: $primary-light;
      margin-bottom: 15px;
      font-size: 18px;
    }
    
    .checkbox-group {
      margin-bottom: 15px;
      
      input[type="checkbox"] {
        margin-right: 10px;
        position: relative;
        top: 2px;
        
        &:checked + label {
          color: $primary-light;
        }
      }
      
      label {
        cursor: pointer;
        transition: $transition;
      }
    }
    
    .contact-options {
      animation: fade-in 0.3s ease;
      
      .form-group {
        label {
          margin-bottom: 8px;
          display: block;
          color: $text-light;
        }
        
        input[type="email"] {
          width: 100%;
          padding: 12px 15px;
          border-radius: 8px;
          background-color: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          color: $text-color;
          transition: $transition;
          font-size: 15px;
          
          &:focus {
            border-color: $primary-color;
            box-shadow: 0 0 0 3px rgba($primary-color, 0.3);
            outline: none;
          }
          
          &.error {
            border-color: $danger-color;
            box-shadow: 0 0 0 3px rgba($danger-color, 0.2);
          }
        }
      }
    }
  }
}

// Animation for success
.success-animation {
  text-align: center;
  padding: 30px 0;
  
  i {
    font-size: 80px;
    color: $success-color;
    animation: scale-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }
}

.success-message {
  text-align: center;
  
  h4 {
    font-size: 22px;
    margin-bottom: 10px;
    color: $success-color;
  }
  
  p {
    margin-bottom: 20px;
    color: $text-color;
  }
  
  .vote-reference {
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: $border-radius;
    padding: 15px;
    margin: 20px auto;
    max-width: 400px;
    
    .reference-code {
      font-weight: 600;
      margin-bottom: 8px;
      color: $text-color;
      
      span {
        color: $primary-color;
      }
    }
    
    .reference-time {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
    }
  }
  
  .confirmation-sent {
    background-color: rgba($success-color, 0.1);
    border-radius: $border-radius;
    padding: 15px;
    margin: 20px auto;
    max-width: 500px;
    text-align: left;
    display: flex;
    align-items: flex-start;
    
    i {
      font-size: 24px;
      color: $success-color;
      margin-right: 15px;
      flex-shrink: 0;
    }
    
    .confirmation-details {
      margin-top: 15px;
      font-size: 14px;
      color: $text-color;
    }
  }
}

// Options list
.options-list {
  margin: 15px 0;
  
  .option-item {
    display: flex;
    align-items: center;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: $border-radius;
    padding: 15px;
    margin-bottom: 10px;
    
    .option-number {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: $primary-color;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-right: 15px;
      flex-shrink: 0;
    }
    
    .option-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
      
      .form-control {
        background-color: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: $text-color;
      }
      
      .option-description {
        font-size: 14px;
      }
    }
    
    .option-actions {
      margin-left: 10px;
    }
  }
  
  .add-option {
    text-align: center;
    margin-top: 15px;
  }
}

// Participants form
.participants-form {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: $border-radius;
  padding: 20px;
  box-shadow: $box-shadow;
  
  .form-group {
    margin-bottom: 20px;
  }
  
  textarea {
    resize: vertical;
    background-color: rgba(255, 255, 255, 0.1);
    color: $text-color;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .participants-count {
    background-color: rgba(255, 255, 255, 0.05);
    padding: 10px 15px;
    border-radius: 8px;
    font-weight: 500;
    color: $text-color;
  }
}

// Approval process
.approval-process {
  margin: 20px 0;
  
  .approval-step {
    display: flex;
    align-items: flex-start;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: $border-radius;
    margin-bottom: 15px;
    transition: $transition;
    border-left: 4px solid $gray-medium;
    
    &.completed {
      border-left-color: $success-color;
      
      .step-icon {
        background-color: rgba($success-color, 0.2);
        color: $success-color;
      }
    }
    
    &.active {
      border-left-color: $primary-color;
      box-shadow: $box-shadow;
      
      .step-icon {
        background-color: rgba($primary-color, 0.2);
        color: $primary-color;
      }
    }
    
    .step-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.05);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      margin-right: 20px;
      flex-shrink: 0;
    }
    
    .step-text {
      flex: 1;
      
      h4 {
        margin-bottom: 8px;
        color: $text-color;
      }
      
      p {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 10px;
      }
      
      .verification-status {
        display: inline-block;
        padding: 5px 12px;
        background-color: rgba($warning-color, 0.2);
        color: $warning-color;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 500;
        
        i {
          margin-right: 5px;
        }
      }
    }
  }
}

.admin-approval-simulation {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: $border-radius;
  padding: 20px;
  margin-top: 20px;
  
  h4 {
    margin-bottom: 15px;
    color: $text-color;
  }
  
  .approval-message {
    margin-top: 15px;
    padding: 12px 15px;
    background-color: rgba($success-color, 0.1);
    border-radius: 8px;
    color: $success-color;
    animation: fade-in 0.3s ease;
    
    i {
      margin-right: 8px;
    }
  }
}

// Email notification
.email-notification {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: $border-radius;
  box-shadow: $box-shadow;
  margin-bottom: 30px;
  overflow: hidden;
  
  .email-header {
    background-color: rgba(255, 255, 255, 0.08);
    padding: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    
    .email-subject {
      font-weight: 600;
      margin-bottom: 8px;
      color: $text-color;
    }
    
    .email-from, .email-time {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
    }
  }
  
  .email-body {
    padding: 20px;
    
    h4 {
      margin-bottom: 20px;
      color: $primary-color;
    }
    
    p {
      color: $text-color;
    }
    
    .token-code {
      background-color: rgba(255, 255, 255, 0.08);
      padding: 15px;
      text-align: center;
      font-size: 24px;
      font-weight: 700;
      letter-spacing: 2px;
      color: $primary-color;
      border-radius: 8px;
      margin: 20px 0;
    }
    
    .vote-link {
      background-color: rgba(255, 255, 255, 0.08);
      padding: 10px 15px;
      border-radius: 8px;
      margin-top: 10px;
      display: inline-block;
      color: $primary-color;
      font-weight: 500;
    }
  }
}

// Voting interface
.voting-interface {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: $border-radius;
  box-shadow: $box-shadow;
  overflow: hidden;
  
  h4 {
    background-color: $primary-dark;
    color: white;
    padding: 15px 20px;
    margin: 0;
  }
  
  .vote-form {
    padding: 20px;
    
    .vote-header {
      margin-bottom: 20px;
      
      h5 {
        font-size: 18px;
        margin-bottom: 5px;
        color: $text-color;
      }
      
      .vote-period {
        color: rgba(255, 255, 255, 0.7);
        font-size: 14px;
      }
    }
    
    .token-verification {
      margin-bottom: 20px;
      
      .form-row {
        display: flex;
        gap: 10px;
        
        input {
          flex: 1;
          background-color: rgba(255, 255, 255, 0.08);
          border: 1px solid rgba(255, 255, 255, 0.2);
          color: $text-color;
        }
      }
      
      .token-success {
        padding: 12px 15px;
        background-color: rgba($success-color, 0.1);
        color: $success-color;
        border-radius: 8px;
        margin-top: 15px;
        animation: fade-in 0.3s ease;
        
        i {
          margin-right: 8px;
        }
      }
    }
    
    .vote-options {
      margin-top: 30px;
      animation: fade-in 0.3s ease;
      
      h5 {
        margin-bottom: 15px;
        color: $text-color;
      }
    }
    
    .vote-options-list {
      .vote-option-item {
        padding: 15px;
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: $border-radius;
        margin-bottom: 10px;
        cursor: pointer;
        transition: $transition;
        position: relative;
        
        &:hover {
          background-color: rgba(255, 255, 255, 0.08);
        }
        
        &.selected {
          background-color: rgba($primary-color, 0.2);
          border: 1px solid $primary-color;
        }
        
        .option-name {
          font-weight: 600;
          margin-bottom: 5px;
          color: $text-color;
        }
        
        .option-description {
          font-size: 14px;
          color: rgba(255, 255, 255, 0.7);
        }
        
        .vote-stamp {
          position: absolute;
          right: 15px;
          top: 15px;
          color: $success-color;
          font-size: 24px;
        }
      }
    }
    
    .vote-actions {
      margin-top: 20px;
      text-align: center;
    }
    
    .vote-success {
      text-align: center;
      margin-top: 20px;
      animation: fade-in 0.3s ease;
      
      .success-icon {
        font-size: 60px;
        color: $success-color;
        margin-bottom: 15px;
      }
      
      h5 {
        color: $success-color;
        margin-bottom: 10px;
      }
      
      .vote-confirmation {
        display: inline-block;
        margin-top: 15px;
        padding: 10px 20px;
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        font-weight: 600;
        color: $text-color;
      }
    }
  }
}

// Results dashboard
.results-dashboard {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: $border-radius;
  box-shadow: $box-shadow;
  overflow: hidden;
  
  .results-header {
    padding: 20px;
    background-color: $primary-dark;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    h4 {
      margin: 0;
      color: white;
    }
    
    .vote-status {
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      align-items: center;
      
      i {
        margin-right: 5px;
      }
      
      &.completed {
        background-color: rgba($success-color, 0.2);
        color: $success-color;
      }
    }
  }
  
  .results-stats {
    display: flex;
    justify-content: space-around;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.05);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    
    .stat-item {
      text-align: center;
      
      .stat-value {
        font-size: 36px;
        font-weight: 700;
        color: $primary-color;
        margin-bottom: 5px;
      }
      
      .stat-label {
        color: rgba(255, 255, 255, 0.7);
      }
    }
  }
  
  .results-chart {
    padding: 30px 20px;
    margin-bottom: 40px;
    
    .chart-container {
      height: 300px;
    }
    
    .placeholder-chart {
      height: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: space-around;
      padding: 0 10%;
      margin-bottom: 35px; 
      
      .chart-bar {
        width: 25%;
        background-color: $primary-color;
        border-radius: 8px 8px 0 0;
        position: relative;
        transition: height 1s ease;
        
        &:nth-child(2) {
          background-color: $secondary-color;
        }
        
        &:nth-child(3) {
          background-color: $warning-color;
        }
        
        .chart-label {
          position: absolute;
          bottom: -50px; // Mărit de la -30px la -40px pentru mai mult spațiu
          left: 50%;
          transform: translateX(-50%);
          width: auto; // Lăsăm lățimea auto în loc de 100%
          text-align: center;
          font-weight: 500;
          font-size: 14px;
          color: $text-color;
          white-space: normal; // Permitem împărțirea pe mai multe linii dacă e cazul
          overflow: visible; // Eliminăm ascunderea overflow-ului
          text-overflow: clip; // Eliminăm elipsa
          padding: 0 5px;
          max-width: 150px;
          &.long-name {
            width: auto;
            max-width: none;
          }
        }
        
        .votes-count {
          position: absolute;
          top: -25px;
          left: 0;
          right: 0;
          text-align: center;
          font-size: 14px;
          color: rgba(255, 255, 255, 0.7);
        }
      }
    }
  }

  
  .winner-announcement {
    background-color: rgba($success-color, 0.1);
    padding: 20px;
    display: flex;
    align-items: center;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    
    .winner-badge {
      width: 60px;
      height: 60px;
      background-color: $success-color;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 30px;
      margin-right: 20px;
      flex-shrink: 0;
    }
    
    .winner-info {
      .winner-title {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 5px;
      }
      
      .winner-name {
        font-size: 22px;
        font-weight: 700;
        margin-bottom: 5px;
        color: $text-color;
      }
      
      .winner-details {
        color: rgba(255, 255, 255, 0.7);
      }
    }
  }
  
  .share-results {
    padding: 20px;
    
    h5 {
      margin-bottom: 15px;
      color: $text-color;
    }
    
    .share-buttons {
      display: flex;
      gap: 10px;
      
      .btn-share {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        border: none;
        cursor: pointer;
        transition: $transition;
        
        &:hover {
          transform: translateY(-3px);
        }
        
        &.facebook {
          background-color: #3b5998;
        }
        
        &.twitter {
          background-color: #1da1f2;
        }
        
        &.email {
          background-color: #d44638;
        }
        
        &.link {
          background-color: $gray-dark;
        }
      }
    }
  }
}

// Animații
@keyframes stamp-appear {
  0% {
    transform: scale(0) rotate(-45deg);
    opacity: 0;
  }
  100% {
    transform: scale(1) rotate(0);
    opacity: 1;
  }
}

@keyframes scale-in {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

// Media queries pentru a asigura responsivitatea
@media (max-width: 768px) {
  .vote-types {
    flex-direction: column;
    
    .vote-type-item {
      min-width: 100%;
    }
  }
  
  .vote-type-selection {
    flex-direction: column;
    align-items: center;
    
    .selection-item {
      width: 80%;
      max-width: 200px;
    }
  }
  
  .confirmation-item {
    flex-direction: column;
    
    .item-label {
      width: 100% !important;
      margin-bottom: 5px;
    }
  }
  
  .results-stats {
    flex-wrap: wrap;
    
    .stat-item {
      width: 50%;
      margin-bottom: 15px;
    }
  }
  
  .winner-announcement {
    flex-direction: column;
    text-align: center;
    
    .winner-badge {
      margin-right: 0;
      margin-bottom: 15px;
    }
  }
}
.error {
  border: 1.5px solid $danger-color !important;
  box-shadow: 0 0 0 2px rgba($danger-color, 0.2);
  
  &:focus {
    border-color: $danger-color !important;
    box-shadow: 0 0 0 3px rgba($danger-color, 0.3) !important;
  }
}

.error-message {
  color: $danger-color;
  font-size: 0.85rem;
  margin-top: 5px;
  display: flex;
  align-items: center;
  animation: fade-in 0.3s ease;
  
  &::before {
    content: "!";
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    background-color: rgba($danger-color, 0.15);
    border-radius: 50%;
    margin-right: 5px;
    font-size: 11px;
    font-weight: bold;
  }
}

.error-message-global {
  color: $text-color;
  font-size: 0.9rem;
  margin: 10px 0;
  padding: 12px 15px;
  background-color: rgba($danger-color, 0.15);
  border-radius: 8px;
  text-align: center;
  border-left: 3px solid $danger-color;
  animation: fade-in 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  
  &::before {
    content: "!";
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    background-color: $danger-color;
    border-radius: 50%;
    margin-right: 8px;
    font-size: 12px;
    font-weight: bold;
    color: white;
  }
}
.form-group {
  position: relative;
  
  .form-control.error + .error-message {
    margin-top: 5px;
  }
}

// Animație pentru apariția mesajelor de eroare
@keyframes error-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

.error-message, .error-message-global {
  &.active {
    animation: fade-in 0.3s ease, error-shake 0.4s ease;
  }
}

// Responsive pentru Alegeri Locale
@media (max-width: 1100px) {
  .simulation-step .step-content {
    flex-direction: column;
    
    .step-section {
      width: 100%;
      margin-right: 0;
      margin-bottom: 20px;
    }
  }
  
  .positions-list .candidates-grid {
    grid-template-columns: 1fr !important;
  }
}

// Stilizare specială pentru a asigura că elementele goale nu afectează layoutul
.step-section:empty,
.step-image:empty,
div:empty {
  display: none !important;
}

// Ajustare specială pentru a asigura că conținutul este centrat când nu există imagini
.step-content {
  &:has(.step-image:empty) {
    justify-content: center;
    
    .step-description {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
    }
  }
}

// Suport pentru Internet Explorer și browsere care nu suportă selector-ul :has
.step-image:empty ~ .step-description {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}

// Fix pentru CSS field-sizing în browsere suportate - soluție modernă
@supports (field-sizing: content) {
  .form-control, 
  input[type="text"],
  input[type="date"],
  input[type="time"],
  textarea,
  select {
    field-sizing: fixed; // Am setat fixed pentru a preveni redimensionarea automată care ar putea cauza probleme
    min-width: 0; // Permite elementelor să se micșoreze dacă este necesar
  }
}

// Fix pentru box-sizing în toate elementele formularului
*, *::before, *::after {
  box-sizing: border-box;
}
